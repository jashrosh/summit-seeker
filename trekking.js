// Trek Data - This would typically come from a backend
const treksData = [
    {
      "id": 1,
  "name": "Kedarkantha Trek",
  "location": "Uttarakhand, India",
  "duration": "6 days",
  "distance": "20 km",
  "difficulty": "beginner to intermediate",
  "price": 9999,
  "image": "https://images.unsplash.com/photo-1581169699168-66eebaf731ce?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
  "description": "Experience the magic of the Himalayas with our guided trek to Kedarkantha Peak. This spectacular journey takes you through dense pine forests, charming mountain villages, and stunning snow-covered landscapes in the Uttarakhand region of India.",
  "highlights": [
    "Summit Kedarkantha Peak (12,500 ft/3,810m)",
    "Trek through pristine Govind National Park",
    "Experience snow-covered trails (winter season)",
    "Panoramic views of major Himalayan peaks",
    "Camp beside the frozen Juda Ka Talab lake",
    "Experience authentic Garhwali culture and cuisine"
  ],
  "includes": [
    "Professional English-speaking trek leader",
    "Safety equipment (microspikes in winter)",
    "All accommodation during the trek (camping)",
    "All meals during the trek (breakfast, lunch, dinner)",
    "All necessary trekking permits and fees",
    "Transport from Dehradun to Sankri and return",
    "Camping equipment (tents, sleeping bags, mats)",
    "Basic first aid medical kit"
  ],
  "requirements": [
    "Moderate physical fitness - able to hike 5-6 hours daily",
    "No previous trekking experience required",
    "Ability to handle moderate altitudes (up to 12,500 ft)",
    "Valid ID proof and medical certificate"
  ],
  "itinerary": [
    "Day 1: Drive from Dehradun to Sankri (6,400 ft/1,950m)",
    "Day 2: Trek from Sankri to Juda Ka Talab (9,100 ft/2,774m)",
    "Day 3: Trek to Kedarkantha Base Camp (10,800 ft/3,292m)",
    "Day 4: Summit Kedarkantha (12,500 ft/3,810m) and return to Base Camp",
    "Day 5: Trek from Base Camp to Hargaon",
    "Day 6: Trek to Sankri and drive to Dehradun"
  ]
    },
    {
        "id": 2,
  "name": "Kashmir Great Lakes Trek",
  "location": "Jammu and Kashmir, India",
  "duration": "8 days",
  "distance": "75 km",
  "difficulty": "intermediate",
  "price": 18999,
  "image": "https://images.unsplash.com/photo-1664212249144-d5e263efbb47?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
  "description": "The Kashmir Great Lakes Trek is one of the most breathtaking alpine treks in India. This journey takes you through verdant meadows, pristine mountain lakes, dense pine forests, and magnificent Himalayan landscapes while exploring the paradise on earth that is Kashmir.",
  "highlights": [
    "Visit seven stunning alpine lakes with crystal clear waters",
    "Cross multiple high-altitude passes (up to 13,800 ft/4,200m)",
    "Experience the vast meadows (bugyal) of Kashmir",
    "Magnificent views of surrounding peaks including Mt. Harmukh",
    "Trek through beautiful pine and birch forests",
    "Experience authentic Kashmiri culture and cuisine"
  ],
  "includes": [
    "Experienced trekking guide and support staff",
    "All accommodations during the trek (camping)",
    "All meals during the trek (breakfast, lunch, dinner)",
    "Forest and wildlife permits",
    "Transportation from Srinagar to trailhead and return",
    "Camping equipment (tents, sleeping bags, mats)",
    "First aid and emergency equipment",
    "Welcome and farewell meals in Srinagar"
  ],
  "requirements": [
    "Good physical fitness level - able to trek 6-7 hours daily",
    "Previous trekking experience recommended",
    "Ability to handle moderate altitudes (up to 13,800 ft/4,200m)",
    "Valid ID proof and medical certificate"
  ],
  "itinerary": [
    "Day 1: Arrive in Srinagar",
    "Day 2: Drive from Srinagar to Sonamarg, trek to Nichnai (11,500 ft/3,505m)",
    "Day 3: Trek from Nichnai to Vishansar Lake (12,000 ft/3,660m)",
    "Day 4: Trek to Krishansar and Gadsar lakes (13,750 ft/4,190m)",
    "Day 5: Trek from Gadsar to Satsar lakes (12,000 ft/3,660m)",
    "Day 6: Trek from Satsar to Gangabal twin lakes (11,500 ft/3,505m)",
    "Day 7: Trek from Gangabal to Naranag (7,450 ft/2,270m)",
    "Day 8: Drive to Srinagar and departure"
  ]
    },
    {
        "id": 3,
  "name": "Stok Kangri Expedition",
  "location": "Ladakh, India",
  "duration": "9 days",
  "distance": "40 km",
  "difficulty": "advanced",
  "price": 29999,
  "image": "https://images.unsplash.com/photo-1536776814195-034a8b6e6d16?q=80&w=1631&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
  "description": "Climb one of India's most coveted trekking peaks in the Trans-Himalayan region of Ladakh. Our Stok Kangri expedition offers breathtaking landscapes, technical challenges, and the opportunity to summit a 6,000+ meter peak with incredible views of the Karakoram and Zanskar ranges.",
  "highlights": [
    "Summit one of India's highest trekking peaks (20,187 ft/6,153m)",
    "Experience the unique Trans-Himalayan desert landscape",
    "Trek through traditional Ladakhi villages",
    "Witness spectacular sunrise views from the summit",
    "Acclimatize in the ancient city of Leh"
  ],
  "includes": [
    "Professional high-altitude mountain guides",
    "Porters/pack animals for equipment transport",
    "All camping equipment (except personal sleeping bags)",
    "All meals during the expedition",
    "Technical climbing equipment (ropes, ice axes, crampons)",
    "Oxygen cylinders and medical kit",
    "Inner Line Permits for restricted areas",
    "Airport transfers in Leh"
  ],
  "requirements": [
    "Excellent physical fitness - ability to walk 8-10 hours with a pack",
    "Previous high-altitude trekking experience mandatory",
    "Ability to handle extreme altitude (up to 20,187 ft/6,153m)",
    "Basic mountaineering skills recommended",
    "Valid travel insurance with high-altitude evacuation coverage",
    "Medical certificate of fitness"
  ],
  "itinerary": [
    "Day 1: Arrival in Leh (11,500 ft/3,500m), rest and acclimatization",
    "Day 2: Acclimatization in Leh, local sightseeing",
    "Day 3: Drive to Stok Village, trek to Mankorma (14,200 ft/4,350m)",
    "Day 4: Trek to Stok Kangri Base Camp (16,300 ft/4,980m)",
    "Day 5: Acclimatization and training day at Base Camp",
    "Day 6: Rest day at Base Camp",
    "Day 7: Summit day - Base Camp to Stok Kangri summit (20,187 ft/6,153m) and back",
    "Day 8: Trek from Base Camp to Stok Village, drive to Leh",
    "Day 9: Departure from Leh"
  ]
    },
    {
        "id": 4,
  "name": "Hampta Pass Trek",
  "location": "Himachal Pradesh, India",
  "duration": "5 days",
  "distance": "35 km",
  "difficulty": "intermediate",
  "price": 13999,
  "image": "https://images.unsplash.com/photo-1656833111546-07d98abab448?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
  "description": "Experience the dramatic landscape transformation as you trek from the lush green Kullu Valley to the barren moonscape of Spiti. The Hampta Pass trek offers incredible diversity in terrain, crossing a high mountain pass that connects two completely different worlds, culminating with a visit to the stunning Chandratal Lake.",
  "highlights": [
    "Cross the magnificent Hampta Pass (14,100 ft/4,300m)",
    "Experience dramatic landscape change from green valleys to desert mountains",
    "Visit the crescent-shaped Chandratal Lake (optional)",
    "Camp at the beautiful Balu Ka Ghera and Shea Goru",
    "Trek through maple forests, meadows, and glacial valleys",
    "Witness panoramic views of the Pir Panjal and Spiti ranges"
  ],
  "includes": [
    "Experienced trek leader and support staff",
    "Porters/mules for carrying common equipment",
    "All meals during the trek (vegetarian options available)",
    "Camping equipment (tents, sleeping bags, mats)",
    "Forest and wildlife permits",
    "Transport from Manali to Jobra and Chatru to Manali",
    "First aid kit and oxygen cylinder",
    "Chandratal Lake excursion (weather permitting)"
  ],
  "requirements": [
    "Moderate physical fitness level",
    "No previous trekking experience required, but helpful",
    "Ability to handle moderate altitudes (up to 14,100 ft/4,300m)",
    "Valid ID proof and medical certificate"
  ],
  "itinerary": [
    "Day 1: Manali to Jobra (drive), trek to Chika (10,100 ft/3,080m) - 2 km",
    "Day 2: Chika to Balu Ka Ghera (11,900 ft/3,630m) - 8 km",
    "Day 3: Balu Ka Ghera to Shea Goru (12,900 ft/3,930m) via Hampta Pass (14,100 ft/4,300m) - 9 km",
    "Day 4: Shea Goru to Chatru (11,000 ft/3,350m), drive to Chandratal Lake (13,940 ft/4,250m) - 8 km trek + drive",
    "Day 5: Drive from Chandratal/Chatru to Manali"
  ]
    },
    {
        "id": 5,
  "name": "Goechala Trek",
  "location": "Sikkim, India",
  "duration": "10 days",
  "distance": "90 km",
  "difficulty": "intermediate to challenging",
  "price": 23999,
  "image": "https://images.unsplash.com/photo-1678606460498-794875cbdf8b?q=80&w=1548&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
  "highlights": [
    "Witness sunrise on Kanchenjunga and 14 other major Himalayan peaks",
    "Trek through varied terrain from dense forests to high alpine regions",
    "Visit sacred Samiti Lake nestled in the mountains",
    "Experience Sikkimese culture and Buddhist influence",
    "Camp at picturesque Dzongri meadows and see vibrant prayer flags",
    "Explore the pristine wilderness of Kanchenjunga National Park"
  ],
  "includes": [
    "Experienced trek leader and support staff",
    "Transportation from NJP/Bagdogra to Yuksom and back",
    "All meals during the trek (nutritious vegetarian options)",
    "Accommodation in tents (twin sharing)",
    "Camping equipment (tents, sleeping bags, mats)",
    "Restricted Area Permits for Sikkim",
    "Porters/yaks to carry common equipment",
    "First aid kit and oxygen cylinder",
    "Forest and national park fees"
  ],
  "requirements": [
    "Good physical fitness - able to walk 6-8 hours daily with a daypack",
    "Previous high-altitude trekking experience recommended",
    "Ability to handle high altitudes (up to 16,200 ft/4,940m)",
    "Inner Line Permit (arranged by trek operator)",
    "Valid ID proof and medical certificate"
  ],
  "itinerary": [
    "Day 1: Arrival at NJP/Bagdogra, drive to Yuksom (5,700 ft/1,780m)",
    "Day 2: Yuksom to Sachen (7,200 ft/2,195m) - 8 km",
    "Day 3: Sachen to Tshoka (9,700 ft/2,950m) - 8 km",
    "Day 4: Tshoka to Dzongri (13,000 ft/3,962m) - 9 km",
    "Day 5: Acclimatization and exploration day at Dzongri",
    "Day 6: Dzongri to Thansing (12,900 ft/3,930m) - 8 km",
    "Day 7: Thansing to Lamuney (13,700 ft/4,175m) - 4 km",
    "Day 8: Lamuney to Goechala viewpoint (16,200 ft/4,940m) and back to Kokchurang (12,100 ft/3,690m) - 14 km",
    "Day 9: Kokchurang to Tshoka (9,700 ft/2,950m) - 13 km",
    "Day 10: Tshoka to Yuksom (5,700 ft/1,780m), drive to NJP/Bagdogra - 16 km trek + drive"
  ]
    },
    {
        "id": 6,
  "name": "Valley of Flowers Trek",
  "location": "Uttarakhand, India",
  "duration": "6 days",
  "distance": "38 km",
  "difficulty": "beginner to moderate",
  "price": 16999,
  "image": "https://images.unsplash.com/photo-1513010072333-792fcc02ee7d?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
  "description": "Experience the magical UNESCO World Heritage Site of the Valley of Flowers, famous for its meadows of endemic alpine flowers and diverse flora. This beginner-friendly trek in the Garhwal Himalayas offers stunning landscapes, a sacred pilgrimage site, and breathtaking views of surrounding peaks.",
  "highlights": [
    "Explore the Valley of Flowers National Park in full bloom (July-September)",
    "Visit the sacred Hemkund Sahib Gurudwara at 14,200 ft",
    "Witness hundreds of rare Himalayan wildflower species",
    "Experience the rich biodiversity of the UNESCO World Heritage Site",
    "Enjoy scenic views of Nanda Devi and surrounding peaks",
    "Stay in the charming mountain village of Ghangaria"
  ],
  "includes": [
    "Experienced guide with local knowledge of flora and fauna",
    "All accommodations (mix of guesthouses and hotels)",
    "All meals during the trek",
    "Transportation from Haridwar to Govindghat and return",
    "All necessary permits and entry fees",
    "First aid kit",
    "Porters for common equipment"
  ],
  "requirements": [
    "Basic fitness level - able to walk 5-7 hours daily",
    "No previous trekking experience required",
    "Ability to handle moderate altitudes (up to 14,200 ft/4,329m)",
    "Valid ID proof"
  ],
  "itinerary": [
    "Day 1: Arrival in Haridwar, drive to Joshimath (6,150 ft/1,875m)",
    "Day 2: Drive from Joshimath to Govindghat (5,900 ft/1,800m), trek to Ghangaria (10,000 ft/3,050m) - 9 km",
    "Day 3: Day trek to Valley of Flowers (11,500 ft/3,505m) and back to Ghangaria - 7 km round trip",
    "Day 4: Day trek to Hemkund Sahib (14,200 ft/4,329m) and back to Ghangaria - 6 km round trip",
    "Day 5: Second day in Valley of Flowers (different section) - 7 km round trip",
    "Day 6: Trek from Ghangaria to Govindghat, drive to Haridwar - 9 km trek + drive"
  ]
    }
];
const GOOGLE_FORM_URL = "https://docs.google.com/forms/d/e/1FAIpQLSej-SYGUVKpBphTxq9sbwqdsyNJE5LeUslwh4Dz7ZcA4JnpRg/viewform?embedded=true";
// DOM Elements
document.addEventListener('DOMContentLoaded', function() {
    // Initialize page elements
    initializeTreks();
    setupEventListeners();
    activeNavLink();
    
    // Hide loading screen if needed
    setTimeout(() => {
        document.body.classList.add('loaded');
    }, 500);
});

// Initialize treks section
function initializeTreks() {
    const treksGrid = document.getElementById('treksGrid');
    if (!treksGrid) return;
    
    // Clear existing content
    treksGrid.innerHTML = '';
    
    // Populate with trek cards
    treksData.forEach(trek => {
        treksGrid.appendChild(createTrekCard(trek));
    });
}

// Create trek card element
function createTrekCard(trek) {
    const trekCard = document.createElement('div');
    trekCard.className = 'trek-card';
    trekCard.dataset.category = trek.difficulty;
    
    // Determine difficulty class and label
    let difficultyClass, difficultyLabel;
    switch(trek.difficulty) {
        case 'beginner':
            difficultyClass = 'difficulty-beginner';
            difficultyLabel = 'Beginner';
            break;
        case 'intermediate':
            difficultyClass = 'difficulty-intermediate';
            difficultyLabel = 'Intermediate';
            break;
        case 'advanced':
            difficultyClass = 'difficulty-advanced';
            difficultyLabel = 'Advanced';
            break;
        default:
            difficultyClass = 'difficulty-intermediate';
            difficultyLabel = 'Intermediate';
    }
    
    trekCard.innerHTML = `
        <div class="trek-img">
            <img src="${trek.image}" alt="${trek.name}">
            <span class="trek-difficulty ${difficultyClass}">${difficultyLabel}</span>
        </div>
        <div class="trek-details">
            <div class="trek-title">
                <h3>${trek.name}</h3>
                <span class="trek-price">$${trek.price}</span>
            </div>
            <div class="trek-info">
                <p><i class="fas fa-map-marker-alt"></i> ${trek.location}</p>
                <p><i class="fas fa-clock"></i> ${trek.duration}</p>
                <p><i class="fas fa-route"></i> ${trek.distance}</p>
            </div>
            <div class="trek-actions">
                <button class="btn btn-primary view-trek-details" data-trek-id="${trek.id}">View Details</button>
                <button class="btn btn-secondary book-trek" data-trek-id="${trek.id}">Book Now</button>
            </div>
        </div>
    `;
    
    return trekCard;
}

// Create trek detail content
function createTrekDetailContent(trek) {
    const content = document.createElement('div');
    
    content.innerHTML = `
        <div class="trek-detail-header">
            <img src="${trek.image}" alt="${trek.name}">
            <div class="trek-detail-header-content">
                <h2>${trek.name}</h2>
                <div>
                    <span class="trek-detail-badge difficulty-${trek.difficulty}">${trek.difficulty.charAt(0).toUpperCase() + trek.difficulty.slice(1)}</span>
                    <span class="trek-detail-badge">${trek.duration}</span>
                    <span class="trek-detail-badge">${trek.distance}</span>
                </div>
            </div>
        </div>
        
        <div class="trek-detail-main">
            <div class="trek-detail-info">
                <div class="trek-detail-section">
                    <h3>Description</h3>
                    <p>${trek.description}</p>
                </div>
                
                <div class="trek-detail-section">
                    <h3>Highlights</h3>
                    <ul>
                        ${trek.highlights.map(highlight => `<li>${highlight}</li>`).join('')}
                    </ul>
                </div>
                
                <div class="trek-detail-section">
                    <h3>Itinerary</h3>
                    <ul>
                        ${trek.itinerary.map(day => `<li>${day}</li>`).join('')}
                    </ul>
                </div>
                
                <div class="trek-detail-section">
                    <h3>Requirements</h3>
                    <ul>
                        ${trek.requirements.map(req => `<li>${req}</li>`).join('')}
                    </ul>
                </div>
            </div>
            
            <div class="trek-detail-sidebar">
                <div class="trek-detail-price-card">
                    <div class="trek-detail-price">$${trek.price}</div>
                    <p>per person</p>
                    
                    <div class="trek-detail-section">
                        <h3>What's Included</h3>
                        <ul class="trek-detail-price-includes">
                            ${trek.includes.map(item => `<li><i class="fas fa-check"></i> ${item}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <button class="btn btn-primary book-trek" data-trek-id="${trek.id}">Book This Trek</button>
                </div>
            </div>
        </div>
    `;
    
    return content;
}

// Open Trek Details modal - THIS IS THE MISSING FUNCTION
function openTrekDetails(trekId) {
    const trek = treksData.find(trek => trek.id === trekId);
    if (!trek) return;
    
    // Find or create modal
    let detailModal = document.getElementById('trekDetailModal');
    
    if (!detailModal) {
        detailModal = document.createElement('div');
        detailModal.id = 'trekDetailModal';
        detailModal.className = 'modal';
        document.body.appendChild(detailModal);
    }
    
    // Create modal content
    detailModal.innerHTML = `
        <div class="modal-content trek-detail-modal">
            <span class="close-modal">&times;</span>
            <div id="trekDetailContent"></div>
        </div>
    `;
    
    // Populate modal with trek details
    const detailContent = document.getElementById('trekDetailContent');
    detailContent.appendChild(createTrekDetailContent(trek));
    
    // Show the modal
    detailModal.style.display = 'block';
    
    // Re-attach close event for this modal
    const closeBtn = detailModal.querySelector('.close-modal');
    if (closeBtn) {
        closeBtn.addEventListener('click', function() {
            detailModal.style.display = 'none';
        });
    }
}
function redirectToBookingForm(trekId) {
    const trek = treksData.find(trek => trek.id === trekId);
    if (!trek) return;
    
    // Construct URL with parameters for the Google Form
    // This assumes your Google Form has fields that correspond to these parameters
    let bookingUrl = `${"https://docs.google.com/forms/d/e/1FAIpQLSej-SYGUVKpBphTxq9sbwqdsyNJE5LeUslwh4Dz7ZcA4JnpRg/viewform?embedded=true"}?usp=pp_url`;
    
    // Add form prefill parameters - adjust field names based on your Google Form
   // bookingUrl += `&entry.XXXXX1=${encodeURIComponent(trek.name)}`; // Replace XXXXX1 with your actual form field ID
   // bookingUrl += `&entry.XXXXX2=${encodeURIComponent(trek.price)}`; // Replace XXXXX2 with your actual form field ID
   // bookingUrl += `&entry.XXXXX3=${encodeURIComponent(trek.duration)}`; // Replace XXXXX3 with your actual form field ID
   // bookingUrl += `&entry.XXXXX4=${encodeURIComponent(trek.location)}`; // Replace XXXXX4 with your actual form field ID
    
    // Open the Google Form in a new tab
    window.open("https://docs.google.com/forms/d/e/1FAIpQLSej-SYGUVKpBphTxq9sbwqdsyNJE5LeUslwh4Dz7ZcA4JnpRg/viewform?embedded=true", '_blank');
}

// Setup all event listeners
function setupEventListeners() {
    // Trek filter buttons
    const filterBtns = document.querySelectorAll('.filter-btn');
    if (filterBtns) {
        filterBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                // Remove active class from all buttons
                filterBtns.forEach(b => b.classList.remove('active'));
                
                // Add active class to clicked button
                this.classList.add('active');
                
                // Filter trek cards
                const filter = this.dataset.filter;
                filterTreks(filter);
            });
        });
    }
    
    // View trek details buttons
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('view-trek-details') || e.target.closest('.view-trek-details')) {
            const btn = e.target.classList.contains('view-trek-details') ? e.target : e.target.closest('.view-trek-details');
            const trekId = parseInt(btn.dataset.trekId);
            openTrekDetails(trekId);
        }
    });
    
    // Book trek buttons
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('book-trek') || e.target.closest('.book-trek')) {
            const btn = e.target.classList.contains('book-trek') ? e.target : e.target.closest('.book-trek');
            const trekId = parseInt(btn.dataset.trekId);
            scrollToSection('contact');
            
            // Auto-select the trek in the contact form
            const trekInterestSelect = document.getElementById('trekInterest');
            if (trekInterestSelect) {
                const trek = treksData.find(t => t.id === trekId);
                const optionValue = getTrekSelectValue(trek.name);
                
                for (let i = 0; i < trekInterestSelect.options.length; i++) {
                    if (trekInterestSelect.options[i].value === optionValue) {
                        trekInterestSelect.selectedIndex = i;
                        break;
                    }
                }
            }
        }
    });
    
    // Help button
    const helpBtn = document.getElementById('helpBtn');
    if (helpBtn) {
        helpBtn.addEventListener('click', function(e) {
            e.preventDefault();
            openModal('helpModal');
        });
    }
    
    // Close modals
    const closeButtons = document.querySelectorAll('.close-modal');
    closeButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            closeAllModals();
        });
    });
    
    // Close modal on outside click
    window.addEventListener('click', function(e) {
        if (e.target.classList.contains('modal')) {
            closeAllModals();
        }
    });
}

// Filter treks by difficulty
function filterTreks(filter) {
    const trekCards = document.querySelectorAll('.trek-card');
    
    trekCards.forEach(card => {
        if (filter === 'all' || card.dataset.category === filter) {
            card.style.display = 'block';
        } else {
            card.style.display = 'none';
        }
    });
}

// Scroll to section helper
function scrollToSection(sectionId) {
    const section = document.getElementById(sectionId);
    if (section) {
        window.scrollTo({
            top: section.offsetTop - 80, // Adjust for header
            behavior: 'smooth'
        });
    }
}

// Open generic modal
function openModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        modal.style.display = 'block';
    }
}

// Close all modals
function closeAllModals() {
    const modals = document.querySelectorAll('.modal');
    modals.forEach(modal => {
        modal.style.display = 'none';
    });
}

// Helper to get trek select value from name
function getTrekSelectValue(trekName) {
    // Convert trek name to lowercase and replace spaces with hyphens
    return trekName.toLowerCase().replace(/\s+/g, '-');
}

// Active navigation link
function activeNavLink() {
    // Get current page path
    const currentPath = window.location.pathname;
    
    // Find and highlight active nav link
    const navLinks = document.querySelectorAll('nav a');
    navLinks.forEach(link => {
        if (link.getAttribute('href') === currentPath) {
            link.classList.add('active');
        }
    });
}
